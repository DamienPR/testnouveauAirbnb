<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<title>Ajout Logement avec id</title>

<!-- Bootstrap -->
<link href="/bootstrap.css" rel="stylesheet">

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
	<div class="container-fluid">
	<div id="success">
		<div class="row">
			<div class="col-md-6 col-md-offset-4">
				<h1>AJOUTEZ UN LOGEMENT !</h1>
			</div>


		</div>
		<div class="row">
			<div class="col-md-4 col-md-offset-4">
				<img src="/foyer_logement.jpg" alt="maison" width="500px"
					height="400px" class="img-rounded">
			</div>

		</div>
		</div>

		<div class="row">
			<div class="col-md-8">
				<form class="form-horizontal">

					<div class="form-group">
						<label for="inputEmail3" class="col-sm-2 control-label">ID
							PROPRIETAIRE</label>
						<div class="col-sm-2">
							<input type="text" class="form-control" id="id" placeholder="id">
						</div>
					</div>

					<div class="form-group">
						<label for="inputEmail3" class="col-sm-2 control-label">DESCRIPTION</label>
						<div class="col-sm-2">
							<input type="text" class="form-control" id="description"
								placeholder="description">

						</div>
					</div>




					<div class="form-group">
						<label for="inputEmail3" class="col-sm-2 control-label">VILLE</label>
						<div class="col-sm-2">
							<input type="text" class="form-control" id="ville"
								placeholder="ville">
						</div>
					</div>
					<div class="form-group">
						<label for="inputPassword3" class="col-sm-2 control-label">RUE</label>
						<div class="col-sm-2">
							<input type="text" class="form-control" id="rue"
								placeholder="rue">
						</div>
					</div>

					<div class='col-sm-2'>
						<label for="inputEmail3" class="col-sm-4 control-label">DISPONIBLE
							DU </label>
						<div class="form-group">

							<input type='date' class="form-control" placeholder="  02/03/79"
								id="datedu" />


						</div>
					</div>


					<div class='col-sm-2'>
						<label for="inputEmail3" class="col-sm-4 control-label">DISPONIBLE
							AU </label>
						<div class="form-group">
							<div class="form-group">

								<input type='date' class="form-control" placeholder=" 15/06/82"
									id="dateau" />


							</div>
						</div>
					</div>






					<div class="form-group">
						<div class="col-sm-offset-2 col-sm-10">
							<button type="submit" id="bouton_post" class="btn btn-default">enregistrer</button>
						</div>
					</div>

				</form>
			</div>


		</div>
	</div>
	<script src="/jquery.js" type="application/javascript"></script>
	<script type="application/javascript">
			
		
    $(document).ready(function () {
       $('#bouton_post').on("click",function (e) {
           e.preventDefault();
        
           var id, datedu, dateau, rue, ville, description;
           id = $('#id').val();
           datedu = $('#datedu').val();
           dateau = $('#dateau').val();
           rue = $('#rue').val();
           ville = $('#ville').val();
           description = $('#description').val();
           
           
           if($.trim(id) === ""){
               alert("logement id ne peut pas etre vide");
           }
           else if($.trim(datedu) === ""){
               alert("logement  date du ne peut pas etre vide");
           } 
           else if($.trim(dateau) === ""){
                   alert("logement  date au ne peut pas etre vide");
           }
           else if($.trim(ville) === ""){
                   alert("logement  ville ne peut pas etre vide");
           }
           
           else if($.trim(rue) === ""){
            alert("logement  rue ne peut pas etre vide");  
           }
         
           else if($.trim(description) === ""){
              alert("logement  description ne peut pas etre vide");  
               
           }
           else {
        	   $.ajax({
        	
        		
                   type:"POST",
                  
                   url:"/ajoutlogement",
                   data:{id:id,rue:rue,ville:ville,datedu:datedu,dateau:dateau,description:description},
                  
                   error: function(xhr, status, error) {
                	   var err = eval("(" + xhr.responseText + ")");
                	   alert(err.Message);
                	 },
                   success:function (response) {
                    	   $("#success").load("succesl.html #insertion");
                    	   $("form").fadeOut(1000);
                           
                   }
               });
           }
       });
    });
</script>


</body> 

</html>


